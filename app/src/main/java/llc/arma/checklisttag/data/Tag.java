package llc.arma.checklisttag.data;import androidx.annotation.NonNull;import java.util.ArrayList;import java.util.UUID;import llc.arma.checklisttag.db.entity.Object;import llc.arma.checklisttag.db.entity.ObjectEntity;import llc.arma.checklisttag.db.entity.Value;import llc.arma.checklisttag.db.model.Smart;public class Tag extends Smart {    public static Tag createNew(String name, String description, int organisationId, String nfcId){        ObjectEntity objectEntity = new ObjectEntity();        objectEntity.setChannel("lib_" + organisationId);        objectEntity.setLastupd(System.currentTimeMillis());        objectEntity.setName(name);        objectEntity.setParent("nfcLib");        objectEntity.setShow(organisationId);        objectEntity.setSid(UUID.randomUUID().toString());        objectEntity.setTs(System.currentTimeMillis());        objectEntity.setType(Object.NFC_MARK_NEW);        objectEntity.setData(new ArrayList<>());        objectEntity.setSync(2);        Tag tag = new Tag(objectEntity);        if(nfcId != null) tag.bindTag(nfcId);        tag.setValue("folder", "");        tag.setValue("tagText", description);        return tag;    }    public Tag(@NonNull ObjectEntity dataObject) {        super(dataObject);    }    public String getTagName(){        return this.getName();    }    public String getTagType(){        return getType();    }    public boolean isNfc(){        return getTagType().equals(Object.NFC_MARK_NEW) ||                getTagType().equals(Object.NFC_MARK) ||                getTagType().equals(Object.NFC_MARK_LINKED);    }    public boolean isBle(){        return getTagType().equals(Object.BLE_MARK_NEW) ||                getTagType().equals(Object.BLE_MARK) ||                getTagType().equals(Object.BLE_MARK_LINKED);    }    public boolean isBleThermo(){        return getTagType().equals(Object.BLE_THERMO_MARK_NEW) ||                getTagType().equals(Object.BLE_THERMO_MARK) ||                getTagType().equals(Object.BLE_THERMO_MARK_LINKED);    }    public String getNfcId(){        Value value = getValue(Object.TAG_ID);        if(value != null){            return value.getStrvalue();        }else {            return null;        }    }    public void bindTag(String id){        if(getType().equals(Object.NFC_MARK_NEW)) {            setType(Object.NFC_MARK_LINKED);            setValue(Object.TAG_ID, id);            setSync(2);            setLastupd(System.currentTimeMillis());        }        if(getType().equals(Object.BLE_MARK_NEW)){            setType(Object.BLE_MARK_LINKED);            setValue(Object.TAG_ID, id);            setSync(2);            setLastupd(System.currentTimeMillis());        }        if(getType().equals(Object.BLE_THERMO_MARK_NEW)){            setType(Object.BLE_THERMO_MARK_LINKED);            setValue(Object.TAG_ID, id);            setSync(2);            setLastupd(System.currentTimeMillis());        }    }    public long getBleType() {        Value val = getValue("type");        return val.numvalue;    }}